<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rishika Randev, Jenny Wu, Uzoma Uwazurike Jr., Shiyue Zhou">

<title>Understanding the Impact of Socioeconomic and Regional Factors on Health and Educational Outcomes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="paper_files/libs/clipboard/clipboard.min.js"></script>
<script src="paper_files/libs/quarto-html/quarto.js"></script>
<script src="paper_files/libs/quarto-html/popper.min.js"></script>
<script src="paper_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="paper_files/libs/quarto-html/anchor.min.js"></script>
<link href="paper_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="paper_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="paper_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="paper_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="paper_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Understanding the Impact of Socioeconomic and Regional Factors on Health and Educational Outcomes</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rishika Randev, Jenny Wu, Uzoma Uwazurike Jr., Shiyue Zhou </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="abstract" class="level2">
<h2 class="anchored" data-anchor-id="abstract"><strong>Abstract</strong></h2>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction"><strong>Introduction</strong></h2>
<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background">Background</h3>
<p>Life expectancy and school funding are important indicators of public well-being because they capture fundamental aspects of health, education, and social equity that are essential for the development of individuals and communities. Life expectancy is an important health indicator that reflects not only the overall health of a society, but also its stability, economic resilience, and levels of inequality. For example, differences in life expectancy between regions and socioeconomic groups often reveal systemic inequalities, with marginalized communities experiencing shorter life spans due to limited access to health care, healthy living environments, and economic opportunities. Similarly, adequately funded schools mean that students have equal access to learning opportunities and are an important investment in social mobility. Underfunded schools are often located in economically disadvantaged or segregated areas, exacerbating educational gaps and limiting students’ potential to break the cycle of poverty. These gaps are rooted in systemic inequalities, such as residential segregation, which concentrates poverty, limits access to quality education and health care, and perpetuates income and health disparities across generations. By addressing these inequalities, policymakers can foster fairer, more prosperous communities and ensure that everyone benefits from improved health and education systems.&nbsp;</p>
</section>
<section id="research-questions" class="level3">
<h3 class="anchored" data-anchor-id="research-questions">Research Questions</h3>
<p>For this purpose, we focus on two key research questions to explore these relationships.&nbsp; First, we investigate how socioeconomic factors—residential segregation, access to healthy foods, and health insurance coverage—impact average life expectancy. This analysis includes a comparison across different regions to identify variations in the relationship between residential segregation and life expectancy. Second, we evaluate how residential segregation, property taxes, and median household income influence school funding adequacy. This question allows us to assess educational investment disparities among regions with varying economic conditions. The observational unit for this analysis was the U.S. county.</p>
</section>
<section id="data-overview" class="level3">
<h3 class="anchored" data-anchor-id="data-overview">Data Overview</h3>
<p>The dataset used in this study integrates information from three primary sources.&nbsp;</p>
<p>The first source was the County Health Rankings &amp; Roadmaps program, associated with the University of Wisconsin Population Health Institute, which provided us with 2024 datasets for all U.S. states. This program consolidates the latest county-level measurements of various population health, economic, demographic, and social factors from the American Community Survey, the USDA Food Environment Atlas, Small Area Income and Poverty Estimates, and other reliable government sources into publicly available datasets every year. Our specific variables of interest were originally collected as part of:</p>
<ul>
<li><p>National Center for Health Statistics - Natality &amp; Mortality Files, 2019-2021 (average life expectancy)</p></li>
<li><p>American Community Survey 5-year estimates, 2018-2022 (residential segregation index &amp; median household income)</p></li>
<li><p>USDA Food Environment Atlas, 2019 (percentage of population with limited access to healthy foods)</p></li>
<li><p>Small Area Health Insurance Estimates, 2021 (percentage of adults uninsured)</p></li>
<li><p>School Finance Indicators Database, 2021 (school funding adequacy)</p></li>
</ul>
<p>The second source was IPUMS, which provided us with median poverty tax data for every county from 2018-2022.</p>
<p>The third source was the U.S. Census Bureau’s Regions and Divisions of the United States, which maps every U.S. to one of our geographic regions, and also a division within the regions. We specifically included regions as a variable in this analysis.&nbsp;This data was loaded into R using a publicly available GitHub repository maintained by Halpert (2014), titled Census Regions. This repository provides the necessary mappings in CSV format, allowing for efficient integration of regional classification data.</p>
</section>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods"><strong>Methods</strong></h2>
<section id="variable-selection" class="level3">
<h3 class="anchored" data-anchor-id="variable-selection">Variable Selection</h3>
</section>
<section id="exploratory-data-analysis-data-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis-data-preprocessing">Exploratory Data Analysis &amp; Data Preprocessing</h3>
<p>2024 datasets for all U.S. states were combined and merged with median property tax and region mapping data, resulting in a final dataset with 3144 county observations and 9 different variables (state, average life expectancy, residential segregation index, % limited access to healthy foods, % uninsured adults, school funding adequacy, median household income, median property tax, and region). Because school funding adequacy was given as a numerical value, and we wanted to focus simply on better understanding the dichotomy between school funding adequacy and inadequacy, it was converted into a binary categorical variable (1 if the numerical value was positive, indicating the counties’ schools were adequately funded, and 0 if the numerical value was negative, indicating underfunding).</p>
<p>Exploratory data analysis for the two outcome variables was conducted by creating&nbsp; . During exploratory data analysis, we found that ⅓ of our observations were missing residential segregation index data, and in addition, certain states were missing nearly all of their segregation values. Because of this, we decided to drop all states missing over 50% of their values for any variable. Going forward, our analysis is limited to 33 states, and excludes the following: Alaska, Colorado, Idaho, Iowa, Kansas, Minnesota, Montana, Nebraska, North Dakota, South Dakota, Utah, Wyoming, and Vermont. We were left with 2379 total observations, and the missing percentage for residential segregation dropped to 22%.</p>
<p>After this, remaining missing values in all variables were imputed using the mice package and predictive mean matching to generate one complete dataset. The original school funding adequacy numerical variable was first imputed, and then converted into binary values for subsequent analysis.</p>
</section>
<section id="model-fitting-assessment" class="level3">
<h3 class="anchored" data-anchor-id="model-fitting-assessment">Model Fitting &amp; Assessment</h3>
<p>For our first research question, a multiple linear regression model was fit, regressing average life expectancy on residential segregation index, % limited access to healthy foods, % uninsured adults, and region. Linear regression assumptions were assessed using diagnostic plots, especially residual vs.&nbsp;fitted and quantile-quantile plots. The adjusted R-squared value was used to evaluate the fit of the model, and the effect of region as an interaction with residential segregation was evaluated using nested F tests. We also calculated VIF to understand multicollinearity and Cook’s distance to identify influential points.&nbsp;</p>
<p>For our second research question, a binary logistic regression model was fit with school funding adequacy (categorical) as the outcome and residential segregation index, median property tax, and median household income as predictors. The model was assessed using a confusion matrix. ROC curve, and deviance.</p>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="data-overview-1" class="level3">
<h3 class="anchored" data-anchor-id="data-overview-1">Data Overview</h3>
</section>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question 1</h3>
</section>
<section id="question-2" class="level3">
<h3 class="anchored" data-anchor-id="question-2">Question 2</h3>
</section>
</section>
<section id="q1-life-expectancy-mlr" class="level2">
<h2 class="anchored" data-anchor-id="q1-life-expectancy-mlr">Q1 Life Expectancy; MLR</h2>
<section id="research-question-1-life-expectancy" class="level3">
<h3 class="anchored" data-anchor-id="research-question-1-life-expectancy"><strong>Research Question 1: Life Expectancy</strong></h3>
</section>
<section id="model-fitting-original-data" class="level3">
<h3 class="anchored" data-anchor-id="model-fitting-original-data">Model Fitting (Original Data)</h3>
</section>
<section id="model-fitting-imputed-data" class="level3">
<h3 class="anchored" data-anchor-id="model-fitting-imputed-data">Model Fitting (Imputed Data)</h3>
<div class="cell">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_ossz13e6tu3p3b263km1(i, j, css_id) {
        var table = document.getElementById("tinytable_ossz13e6tu3p3b263km1");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_ossz13e6tu3p3b263km1');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_ossz13e6tu3p3b263km1(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_ossz13e6tu3p3b263km1");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 0, 'tinytable_css_idbw775oturxubzvi5wf5k') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 1, 'tinytable_css_idzge5ynrihvddyy5961s1') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(0, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 0, 'tinytable_css_id5175anjcb1of9ip59b6t') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 1, 'tinytable_css_id07dbbzzjbj3bv65jrola') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 2, 'tinytable_css_id07dbbzzjbj3bv65jrola') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 3, 'tinytable_css_id07dbbzzjbj3bv65jrola') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 4, 'tinytable_css_id07dbbzzjbj3bv65jrola') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(1, 5, 'tinytable_css_id07dbbzzjbj3bv65jrola') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(2, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(3, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(4, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(5, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(6, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(7, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(8, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(9, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(10, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 0, 'tinytable_css_id19qw5fv13x4pyai0glqb') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 1, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 2, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 3, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 4, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
window.addEventListener('load', function () { styleCell_ossz13e6tu3p3b263km1(11, 5, 'tinytable_css_id3lx1ova2n6zjbnuymh4d') })
    </script>

    <style>
    .table td.tinytable_css_idbw775oturxubzvi5wf5k, .table th.tinytable_css_idbw775oturxubzvi5wf5k {  text-align: center;  text-align: left; }
    .table td.tinytable_css_idzge5ynrihvddyy5961s1, .table th.tinytable_css_idzge5ynrihvddyy5961s1 {  text-align: center;  border-bottom: solid 0.05em #d3d8dc; }
    .table td.tinytable_css_id3lx1ova2n6zjbnuymh4d, .table th.tinytable_css_id3lx1ova2n6zjbnuymh4d {  text-align: center; }
    .table td.tinytable_css_id5175anjcb1of9ip59b6t, .table th.tinytable_css_id5175anjcb1of9ip59b6t {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id07dbbzzjbj3bv65jrola, .table th.tinytable_css_id07dbbzzjbj3bv65jrola {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id19qw5fv13x4pyai0glqb, .table th.tinytable_css_id19qw5fv13x4pyai0glqb {  text-align: left; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_ossz13e6tu3p3b263km1" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="5">(1)</th>
</tr>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Est.</th>
                <th scope="col">S.E.</th>
                <th scope="col">2.5 %</th>
                <th scope="col">97.5 %</th>
                <th scope="col">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                                      </td>
                  <td>74.93  </td>
                  <td>0.27   </td>
                  <td>74.41   </td>
                  <td>75.45  </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Residential.Segregation.Index                    </td>
                  <td>0.00867</td>
                  <td>0.00458</td>
                  <td>-0.00031</td>
                  <td>0.01765</td>
                  <td>0.06 </td>
                </tr>
                <tr>
                  <td>Region_facWest                                   </td>
                  <td>3.83   </td>
                  <td>0.93   </td>
                  <td>2.01    </td>
                  <td>5.65   </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Region_facNortheast                              </td>
                  <td>6.4    </td>
                  <td>1.2    </td>
                  <td>4.0     </td>
                  <td>8.7    </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Region_facMidwest                                </td>
                  <td>2.19   </td>
                  <td>0.62   </td>
                  <td>0.97    </td>
                  <td>3.41   </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>X..Limited.Access.to.Healthy.Foods               </td>
                  <td>-0.0499</td>
                  <td>0.0086 </td>
                  <td>-0.0667 </td>
                  <td>-0.0331</td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>X..Uninsured.Adults                              </td>
                  <td>-0.045 </td>
                  <td>0.010  </td>
                  <td>-0.066  </td>
                  <td>-0.025 </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Residential.Segregation.Index:Region_facWest     </td>
                  <td>-0.012 </td>
                  <td>0.016  </td>
                  <td>-0.042  </td>
                  <td>0.019  </td>
                  <td>0.45 </td>
                </tr>
                <tr>
                  <td>Residential.Segregation.Index:Region_facNortheast</td>
                  <td>-0.054 </td>
                  <td>0.020  </td>
                  <td>-0.093  </td>
                  <td>-0.015 </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Residential.Segregation.Index:Region_facMidwest  </td>
                  <td>-0.0115</td>
                  <td>0.0106 </td>
                  <td>-0.0323 </td>
                  <td>0.0093 </td>
                  <td>0.28 </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="evaluation-assessment-of-model" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-assessment-of-model">Evaluation &amp; Assessment of Model</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="paper_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="q2-school-funding-adequacy-glm" class="level2">
<h2 class="anchored" data-anchor-id="q2-school-funding-adequacy-glm">Q2 <strong>School Funding Adequacy; GLM</strong></h2>
<section id="research-question-2-school-funding-adequacy" class="level3">
<h3 class="anchored" data-anchor-id="research-question-2-school-funding-adequacy"><strong>Research Question 2: School Funding Adequacy</strong></h3>
</section>
<section id="model-fitting" class="level3">
<h3 class="anchored" data-anchor-id="model-fitting">Model Fitting</h3>
</section>
<section id="regression-results" class="level3">
<h3 class="anchored" data-anchor-id="regression-results">Regression Results</h3>
<div class="cell">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_tbfcq4uhzxxy4c0ln9nb(i, j, css_id) {
        var table = document.getElementById("tinytable_tbfcq4uhzxxy4c0ln9nb");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_tbfcq4uhzxxy4c0ln9nb');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tbfcq4uhzxxy4c0ln9nb(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_tbfcq4uhzxxy4c0ln9nb");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 0, 'tinytable_css_id3f8ibmy1yqhvgrrurb7p') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 1, 'tinytable_css_idbzcj4to1mreec0u202at') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(0, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 0, 'tinytable_css_id70o6u861tfeuiej5c5jl') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 1, 'tinytable_css_idspj1p0hn0uq90tcw2fku') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 2, 'tinytable_css_idspj1p0hn0uq90tcw2fku') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 3, 'tinytable_css_idspj1p0hn0uq90tcw2fku') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 4, 'tinytable_css_idspj1p0hn0uq90tcw2fku') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(1, 5, 'tinytable_css_idspj1p0hn0uq90tcw2fku') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(2, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(3, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(4, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(5, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(6, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(7, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 0, 'tinytable_css_id0i4fir2o7lu4g539ck8v') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 1, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 2, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 3, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 4, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
window.addEventListener('load', function () { styleCell_tbfcq4uhzxxy4c0ln9nb(8, 5, 'tinytable_css_idxcbpmygqtgf1r59hj6va') })
    </script>

    <style>
    .table td.tinytable_css_id3f8ibmy1yqhvgrrurb7p, .table th.tinytable_css_id3f8ibmy1yqhvgrrurb7p {  text-align: center;  text-align: left; }
    .table td.tinytable_css_idbzcj4to1mreec0u202at, .table th.tinytable_css_idbzcj4to1mreec0u202at {  text-align: center;  border-bottom: solid 0.05em #d3d8dc; }
    .table td.tinytable_css_idxcbpmygqtgf1r59hj6va, .table th.tinytable_css_idxcbpmygqtgf1r59hj6va {  text-align: center; }
    .table td.tinytable_css_id70o6u861tfeuiej5c5jl, .table th.tinytable_css_id70o6u861tfeuiej5c5jl {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idspj1p0hn0uq90tcw2fku, .table th.tinytable_css_idspj1p0hn0uq90tcw2fku {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id0i4fir2o7lu4g539ck8v, .table th.tinytable_css_id0i4fir2o7lu4g539ck8v {  text-align: left; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_tbfcq4uhzxxy4c0ln9nb" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="5">(1)</th>
</tr>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Est.</th>
                <th scope="col">S.E.</th>
                <th scope="col">2.5 %</th>
                <th scope="col">97.5 %</th>
                <th scope="col">p</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                  </td>
                  <td>0.00136</td>
                  <td>0.00051</td>
                  <td>0.00064</td>
                  <td>0.00279</td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Residential.Segregation.Index</td>
                  <td>1.017  </td>
                  <td>0.004  </td>
                  <td>1.009  </td>
                  <td>1.025  </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Median.Household.Income      </td>
                  <td>1.0e+00</td>
                  <td>5.5e-06</td>
                  <td>1.0e+00</td>
                  <td>1.0e+00</td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Median.Prop.Tax              </td>
                  <td>1.0e+00</td>
                  <td>8.5e-05</td>
                  <td>1.0e+00</td>
                  <td>1.0e+00</td>
                  <td>0.01 </td>
                </tr>
                <tr>
                  <td>Region_facWest               </td>
                  <td>1.85   </td>
                  <td>0.36   </td>
                  <td>1.27   </td>
                  <td>2.69   </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Region_facNortheast          </td>
                  <td>239    </td>
                  <td>145    </td>
                  <td>85     </td>
                  <td>1004   </td>
                  <td>&lt;0.01</td>
                </tr>
                <tr>
                  <td>Region_facMidwest            </td>
                  <td>3.90   </td>
                  <td>0.54   </td>
                  <td>2.98   </td>
                  <td>5.12   </td>
                  <td>&lt;0.01</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="evaluation-and-assessment-of-model" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-and-assessment-of-model">Evaluation and Assessment of Model</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="paper_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>